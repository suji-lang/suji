import std:env
import std:io
import std:println
import std:random

alphabet = {
    A: "ÃÄ‚áº®áº¶áº°áº²áº´ÇÃ‚áº¤áº¬áº¦áº¨áºªÃ„ÇÈ¦Ç áº È€Ã€áº¢È‚Ä€Ä„Ã…Çºá¸€ÈºÃƒ", B: "á¸‚á¸„ê–Æá¸†ÉƒÆ‚", C: "Ä†ê’ÄŒÃ‡á¸ˆÄˆÄŠÆ‡êŸ„È»", D: "Äá¸á¸’á¸Šá¸ŒÆŠá¸êŸ‡Ç²Ç…ÄÆ‹", E: "Ã‰Ä”ÄšÈ¨á¸œÃŠáº¾á»†á»€á»‚á»„á¸˜Ã‹Ä–áº¸È„ÃˆáººÈ†Ä’á¸–á¸”Ä˜É†áº¼á¸š",
    F: "á¸Æ‘ê˜", G: "Ç´ÄÇ¦Ä¢ÄœÄ Æ“á¸ ê Ç¤", H: "á¸ªÈá¸¨Ä¤â±§á¸¦á¸¢á¸¤êªÄ¦", I: "ÃÄ¬ÇÃÃá¸®Ä°á»ŠÈˆÃŒá»ˆÈŠÄªÄ®Æ—Ä¨á¸¬", J: "Ä´ê²Éˆ",
    K: "á¸°Ç¨Ä¶â±©ê‚á¸²Æ˜á¸´ê¢ê€ê„", L: "Ä¹È½ê­Ä½Ä»á¸¼á¸¶á¸¸â± êˆá¸ºÄ¿â±¢ÇˆÅ", M: "á¸¾á¹€á¹‚â±®", N: "ÅƒÅ‡Å…á¹Šêá¹„á¹†Ç¸Æá¹ˆÈ ê¤Ç‹Ã‘", O: "Ã“ÅÇ‘Ã”á»á»˜á»’á»”á»–Ã–ÈªÈ®È°á»ŒÅÈŒÃ’á»Æ á»šá»¢á»œá»á» ÈêŠêŒÅŒá¹’á¹ÆŸÇªÇ¬Ã˜Ç¾Ã•á¹Œá¹È¬",
    P: "á¹”á¹–ê’Æ¤ê”â±£ê", Q: "ê˜ê–", R: "êšÅ”Å˜Å–á¹˜á¹šá¹œÈÈ’á¹ê¦ÉŒâ±¤", S: "Åšá¹¤Å á¹¦ÅÅœÈ˜á¹ á¹¢á¹¨êŸ…ê¨êŸ‰â±¾", T: "Å¤Å¢á¹°ÈšÈ¾á¹ªá¹¬Æ¬á¹®Æ®Å¦",
    U: "É„ÃšÅ¬Ç“Ã›á¹¶ÃœÇ—Ç™Ç›Ç•á¹²á»¤Å°È”Ã™á»¦Æ¯á»¨á»°á»ªá»¬á»®È–Åªá¹ºÅ²Å®ê¸Å¨á¹¸á¹´", V: "êá¹¾Æ²á¹¼", W: "áº‚Å´áº„áº†áºˆáº€â±²", X: "áºŒáºŠ", Y: "ÃÅ¶Å¸áºá»´á»²Æ³á»¶á»¾È²Éá»¸", Z: "Å¹Å½áºâ±«Å»áº’È¤áº”êŸ†Æµâ±¿",
    a: "á·²ê¬±Ã¡Äƒáº¯áº·áº±áº³áºµÇÃ¢áº¥áº­áº§áº©áº«Ã¤ÇŸÈ§Ç¡áº¡ÈÃ áº£ÈƒÄÄ…á¶áºšÃ¥Ç»á¸â±¥Ã£", b: "á¸ƒá¸…ê—É“á¸‡áµ¬á¶€Æ€Æƒ", c: "á·—Ä‡ê“ÄÃ§á¸‰Ä‰É•Ä‹Æˆê”ğ¼È¼", d: "Äá¸‘á¸“È¡á¸‹á¸É—á¶‘á¸ğ¼¥áµ­á¶êŸˆÄ‘É–ÆŒ", e: "Ã©Ä•Ä›È©á¸Ãªáº¿á»‡á»á»ƒá»…á¸™Ã«Ä—áº¹È…ê¬´Ã¨áº»È‡Ä“á¸—á¸•â±¸Ä™á¶’É‡áº½á¸›",
    f: "á¸ŸÆ’áµ®á¶‚ê™", g: "ÇµÄŸÇ§Ä£ÄÄ¡É á¸¡ê¡á¶ƒÇ¥", h: "á¸«ÈŸá¸©Ä¥â±¨á¸§á¸£á¸¥É¦áº–ê•Ä§", i: "Ã­Ä­ÇÃ®Ã¯á¸¯á»‹È‰Ã¬á»‰È‹Ä«Ä¯á¶–É¨ğ¼šÄ©á¸­", j: "Ç°ÄµÊÉ‰",
    k: "á¸±Ç©Ä·â±ªêƒá¸³Æ™á¸µê£á¶„êê…", l: "á·¬ÄºÆšÉ¬ğ¼“Ä¾Ä¼á¸½È´á¸·á¸¹â±¡ê¬¸ğ¼‘ê‰ê¬·á¸»ğ¼¦Å€ê¬¹É«á¶…É­êÅ‚", m: "á¸¿ê¬ºá¹á¹ƒÉ±áµ¯á¶†", n: "Å‰Å„ÅˆÅ†á¹‹ê¬»Èµê‘á¹…á¹‡Ç¹É²á¹‰Æğ¼§áµ°ê¥á¶‡É³Ã±", o: "á·³á·­Ã³ÅÇ’Ã´á»‘á»™á»“á»•á»—Ã¶È«È¯È±á»Å‘ÈÃ²á»Æ¡á»›á»£á»á»Ÿá»¡Èê‹êâ±ºÅá¹“á¹‘Ç«Ç­ğ¼›Ã¸Ç¿Ãµá¹á¹È­",
    p: "á¹•á¹—ê“Æ¥áµ±á¶ˆê•áµ½ê‘", q: "ê™Ê É‹ê—", r: "á·Šá·£ê›Å•Å™Å—ê­‰á¹™á¹›á¹È‘É¾áµ³ğ¼–È“á¹ŸÉ¼ğ¼¨áµ²ê§á¶‰ÉÉ½ê­‡", s: "Å›á¹¥Å¡á¹§ÅŸÅÈ™ğ¼á¹¡á¹£á¹©Ê‚ğ¼©áµ´ê©á¶ŠêŸŠÈ¿", t: "Å¥Å£á¹±È›È¶áº—â±¦á¹«á¹­Æ­ğ¼‰á¹¯ğ¼ªáµµÆ«ÊˆÅ§",
    u: "á·´á·°Ê‰ê­ÃºÅ­Ç”Ã»á¹·Ã¼Ç˜ÇšÇœÇ–á¹³á»¥Å±È•Ã¹á»§Æ°á»©á»±á»«á»­á»¯È—ê­’Å«á¹»Å³á¶™Å¯ê­ê¹Å©á¹¹á¹µ", v: "â±´êŸá¹¿Ê‹á¶Œâ±±á¹½", w: "áª¿áºƒÅµáº…áº‡áº‰áºâ±³áº˜", x: "áºáº‹ê­—ê­˜ê­™ê­–á¶", y: "Ã½Å·Ã¿áºá»µá»³Æ´á»·á»¿È³áº™ê­šÉá»¹", z: "ÅºÅ¾áº‘Ê‘â±¬Å¼áº“È¥áº•áµ¶á¶ÊÆ¶É€"
}

translate_letter = |letter| {
    match {
        alphabet::contains(letter): random:pick(alphabet::get(letter))
        _: letter
    }
}

translate_string = |string| {
    string
        ::to_list()
        ::map(|char| char |> translate_letter)
        ::join('')
}


out = match io:stdin::is_terminal() {
    true: "Pipe in a string to translate"
            |> translate_string
    false: io:stdin
            ::read_lines()
            ::map(|line| line |> translate_string)
            ::join("")

}

println <| out
